<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to `caugi` • caugi</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to `caugi`">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">caugi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Introduction_to_caugi.html">Introduction to `caugi`</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Introduction to `caugi`</h1>
            
      

      <div class="d-none name"><code>Introduction_to_caugi.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># dev version from GitHub</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"pak"</span>,</span>
<span>  repos <span class="op">=</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span></span>
<span>      <span class="st">"https://r-lib.github.io/p/pak/stable/%s/%s/%s"</span>,</span>
<span>      <span class="va">.Platform</span><span class="op">$</span><span class="va">pkgType</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/Version.html" class="external-link">R.Version</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">os</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/Version.html" class="external-link">R.Version</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">arch</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"frederikfabriciusbjerre/caugi"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># ... or wait for the first CRAN release</span></span>
<span><span class="co"># install.packages("caugi")</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load the package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://frederikfabriciusbjerre.github.io/caugi/">caugi</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="what-is-caugi">What is <code>caugi</code>?<a class="anchor" aria-label="anchor" href="#what-is-caugi"></a>
</h2>
<p><code>caugi</code> (pronounced “corgi”) stands for <strong>Causal
Graph Interface</strong>.</p>
<p><code>caugi</code> is a small R interface to a fast Rust backend for
causal graphs. You define graphs with readable infix operators, query
relations, and keep R code nice and tidy, while Rust handles
performance.</p>
</div>
<div class="section level2">
<h2 id="why-caugi">Why <code>caugi</code>?<a class="anchor" aria-label="anchor" href="#why-caugi"></a>
</h2>
<p>Causal graphs are easy to draw and aid us in understanding causal
mechanisms by visual representation. In R, representing them can feel
clunky. We usually resort to adjacency matrices, edge lists, or packages
like <code>igraph</code> or <code>graph</code>.</p>
<p>These packages are great and each have their strengths, but they are
not built for <em>causal</em> graphs, which often have special edge
types and properties.</p>
<p>In the same way, adjacency matrices can be hard to read, especially
since different standards exists for representing different types of
causal relationships. For example, it is not even standardized, if
<code>A[i,j] == 1</code> represents <code>i --&gt; j</code> or
<code>j --&gt; i</code>, or how to represent a PAG edge such as
<code>o-&gt;</code>.</p>
<p>For people working in causal inference and causal discovery, this can
lead to clunky, hacky code that is hard to read and maintain.
<code>caugi</code> aims to fix this with a well thought, readable
syntax, which mimics how we draw graphs in hand.</p>
<p>When makeshift solutions are used to represent causal graphs, it
leads to not only bugs, but confusion and wasted time. With
<code>caugi</code> we aim to make causal graphs safe to work with, so
you do not accidentally create invalid graphs, and so you can focus on
the causal problems at hand, not on the representation.</p>
<p>So why <code>caugi</code>? <code>caugi</code> makes it easy to
define, query, and modify causal graphs in R with a clean syntax and
fast performance.</p>
</div>
<div class="section level2">
<h2 id="the-basic-object-caugi_graph">The basic object: <code>caugi_graph</code><a class="anchor" aria-label="anchor" href="#the-basic-object-caugi_graph"></a>
</h2>
<p>A <code>caugi_graph</code> is the bread and butter of
<code>caugi</code>. It is easy to create, query, and modify.</p>
<p>You can create simple graphs as well as a large number of predefined
graph classes. Currently, we only support <code>"Unknown"</code>,
<code>"DAG"</code>, or <code>"PDAG"</code>. We plan on supporting
several other causal graph types in future releases, such as
<code>"PAG"</code>, <code>"CPDAG"</code>, <code>"MAG"</code>,
<code>"SWIG"</code>, and <code>"ADMG"</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># a tiny DAG</span></span>
<span><span class="va">cg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi_graph.html">caugi_graph</a></span><span class="op">(</span></span>
<span>  <span class="va">A</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%--&gt;%</a></span> <span class="va">B</span> <span class="op">+</span> <span class="va">C</span>,</span>
<span>  <span class="va">B</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%--&gt;%</a></span> <span class="va">D</span>,</span>
<span>  <span class="va">C</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%--&gt;%</a></span> <span class="va">D</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"DAG"</span>, <span class="co"># optional, guarantees acyclicity by construction</span></span>
<span>  simple <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># default</span></span>
<span>  build <span class="op">=</span> <span class="cn">TRUE</span> <span class="co"># build now; otherwise built lazily on first query</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="edge-operators">Edge operators<a class="anchor" aria-label="anchor" href="#edge-operators"></a>
</h3>
<ul>
<li>
<code>%--&gt;%</code> directed</li>
<li>
<code>%---%</code> undirected</li>
<li>
<code>%&lt;-&gt;%</code> bidirected</li>
<li>
<code>%o-&gt;%</code> partially directed</li>
<li>
<code>%o--%</code> partially undirected</li>
<li>
<code>%o-o%</code> partial</li>
</ul>
<p>You can register more types with <code><a href="../reference/register_caugi_edge.html">register_caugi_edge()</a></code>,
if you find that you need a more expressive set of edges. For example,
if you want to represent a directed edge in the reverse direction, you
can do so like this:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/register_caugi_edge.html">register_caugi_edge</a></span><span class="op">(</span></span>
<span>  glyph <span class="op">=</span> <span class="st">"&lt;--"</span>,</span>
<span>  tail_mark <span class="op">=</span> <span class="st">"arrow"</span>,</span>
<span>  head_mark <span class="op">=</span> <span class="st">"tail"</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"directed"</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  flags <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TRAVERSABLE_WHEN_CONDITIONED"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/caugi_graph.html">caugi_graph</a></span><span class="op">(</span><span class="va">A</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%--&gt;%</a></span> <span class="va">B</span>, <span class="va">B</span> <span class="op">%&lt;--%</span> <span class="va">C</span>, class <span class="op">=</span> <span class="st">"PDAG"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 1</span></span></span>
<span><span class="co">#&gt;   name </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> A    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> B    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> C    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> D    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 3</span></span></span>
<span><span class="co">#&gt;   from  edge  to   </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> A     --&gt;   B    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> A     --&gt;   C    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> B     --&gt;   D    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> C     --&gt;   D</span></span>
<span></span>
<span><span class="co"># reset the registry to default with original edges</span></span>
<span><span class="fu"><a href="../reference/reset_caugi_registry.html">reset_caugi_registry</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>We expect this feature to be needing further polishing in future
releases, and we would love your input if you use this feature!</p>
</div>
<div class="section level3">
<h3 id="lazy-building-and-the-rust-backend">(Lazy) building and the Rust backend<a class="anchor" aria-label="anchor" href="#lazy-building-and-the-rust-backend"></a>
</h3>
<p><code>caugi</code> graphs are represented in a compact Compressed
Sparse Row (CSR) format in Rust. <code>caugi</code> works with a front
loading philosophy. Since the <code>caugi</code> graph is stored in a
CSR format, mutations of the graph is computationally expensive compared
to other graph storage systems, <em>but</em> it allows for very fast
querying. Additionally to the storage format of the graph itself,
<code>caugi</code> also stores additional information about node
relations in such a way that it allows for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>𝒪</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathcal{O}(1)</annotation></semantics></math>
look-up time for many relational queries, such as <code>nb(cg, A)</code>
or <code>ch(cg, B)</code>.</p>
<p>To accommodate for the cost of mutations, <code>caugi</code> graphs
are built lazily. This means that when you mutate the graph, for example
by adding edges to it, the graph edits are stored in R, but not in Rust.
When you then need to query the graphs, the graph will rebuild itself in
Rust, and the query will be executed on the newly built graph. You can
also use the <code>build(cg)</code> function to force building the graph
in Rust at any time.</p>
</div>
<div class="section level3">
<h3 id="nodes-grouping-and">Nodes, grouping, and <code>+</code><a class="anchor" aria-label="anchor" href="#nodes-grouping-and"></a>
</h3>
<p>Use <code>+</code> to fan out from one side, and <code>c(...)</code>
or parentheses to group.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/caugi_graph.html">caugi_graph</a></span><span class="op">(</span></span>
<span>  <span class="va">X</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%--&gt;%</a></span> <span class="va">Y</span> <span class="op">+</span> <span class="va">Z</span>, <span class="co"># X → Y and X → Z</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">Y</span>, <span class="va">Z</span><span class="op">)</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%--&gt;%</a></span> <span class="va">W</span>, <span class="co"># Y → W and Z → W</span></span>
<span>  <span class="op">(</span><span class="va">A</span> <span class="op">+</span> <span class="va">B</span><span class="op">)</span> <span class="op">%---%</span> <span class="op">(</span><span class="va">C</span> <span class="op">+</span> <span class="va">D</span><span class="op">)</span> <span class="co"># all undirected pairs across groups</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 1</span></span></span>
<span><span class="co">#&gt;   name </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> A    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> B    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> C    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> D    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 3</span></span></span>
<span><span class="co">#&gt;   from  edge  to   </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> A     --&gt;   B    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> A     --&gt;   C    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> B     --&gt;   D    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> C     --&gt;   D</span></span></code></pre></div>
<p>Unconnected symbols also declare nodes:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/caugi_graph.html">caugi_graph</a></span><span class="op">(</span><span class="va">A</span>, <span class="va">B</span>, <span class="va">C</span><span class="op">)</span> <span class="co"># declares three isolated nodes</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 1</span></span></span>
<span><span class="co">#&gt;   name </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> A    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> B    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> C    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> D    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 3</span></span></span>
<span><span class="co">#&gt;   from  edge  to   </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> A     --&gt;   B    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> A     --&gt;   C    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> B     --&gt;   D    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> C     --&gt;   D</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="queries">Queries<a class="anchor" aria-label="anchor" href="#queries"></a>
</h2>
<div class="section level3">
<h3 id="relations">Relations<a class="anchor" aria-label="anchor" href="#relations"></a>
</h3>
<p>You can query relations like parents, children, and neighbors. Here
you can both use symbols, characters, or indices.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi_graph.html">caugi_graph</a></span><span class="op">(</span></span>
<span>  <span class="va">A</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%--&gt;%</a></span> <span class="va">B</span> <span class="op">+</span> <span class="va">C</span>,</span>
<span>  <span class="va">B</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%--&gt;%</a></span> <span class="va">D</span>,</span>
<span>  <span class="va">C</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%--&gt;%</a></span> <span class="va">D</span>,</span>
<span>  <span class="va">E</span> <span class="op">%---%</span> <span class="cn">F</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"PDAG"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/parents.html">parents</a></span><span class="op">(</span><span class="va">cg</span>, <span class="va">D</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 1</span></span></span>
<span><span class="co">#&gt;   name </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> B    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> C</span></span>
<span><span class="fu"><a href="../reference/children.html">children</a></span><span class="op">(</span><span class="va">cg</span>, index <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 1</span></span></span>
<span><span class="co">#&gt;   name </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> D</span></span>
<span><span class="fu"><a href="../reference/neighbors.html">neighbors</a></span><span class="op">(</span><span class="va">cg</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">B</span>, <span class="va">C</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 1</span></span></span>
<span><span class="co">#&gt;   name </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> A    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> D    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> A    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> D</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="properties">Properties<a class="anchor" aria-label="anchor" href="#properties"></a>
</h3>
<p>You can check graph properties with the following functions.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/is_acyclic.html">is_acyclic</a></span><span class="op">(</span><span class="va">cg</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="../reference/is_dag.html">is_dag</a></span><span class="op">(</span><span class="va">cg</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="fu"><a href="../reference/is_pdag.html">is_pdag</a></span><span class="op">(</span><span class="va">cg</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="modifying-graphs">Modifying graphs<a class="anchor" aria-label="anchor" href="#modifying-graphs"></a>
</h2>
<p>You can add, remove, or set edges and nodes. Changes are applied on
the next query or when you call <code><a href="../reference/build.html">build()</a></code>. We both provide a
non-standard evaluation interface with infix operators:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi_graph.html">caugi_graph</a></span><span class="op">(</span></span>
<span>  <span class="va">A</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%--&gt;%</a></span> <span class="va">B</span> <span class="op">+</span> <span class="va">C</span>,</span>
<span>  <span class="va">B</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%--&gt;%</a></span> <span class="va">D</span></span>
<span><span class="op">)</span></span>
<span><span class="va">cg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi_verbs.html">add_edges</a></span><span class="op">(</span><span class="va">cg</span>, <span class="va">E</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%--&gt;%</a></span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p>or you can use standard evaluation:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi_verbs.html">add_edges</a></span><span class="op">(</span><span class="va">cg</span>,</span>
<span>  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"D"</span>, <span class="st">"G"</span><span class="op">)</span>,</span>
<span>  edge <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"--&gt;"</span>, <span class="st">"o-&gt;"</span><span class="op">)</span>,</span>
<span>  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"E"</span>, <span class="st">"H"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Besides <code>add_edges</code>, you can also use
<code><a href="../reference/caugi_verbs.html">remove_edges()</a></code>, <code><a href="../reference/caugi_verbs.html">set_edges()</a></code>,
<code><a href="../reference/caugi_verbs.html">add_nodes()</a></code>, <code><a href="../reference/caugi_verbs.html">remove_nodes()</a></code>,
<code>set_nodes()</code>, and <code><a href="../reference/subgraph.html">subgraph()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="s7-and-safety">S7 and Safety<a class="anchor" aria-label="anchor" href="#s7-and-safety"></a>
</h2>
<p><code>caugi</code> utilizes the S7 object system to ensure mutation
safety. This means that it is meant to be hard for you to mutate the
graphs without using the provided functions. This is to ensure that the
graphs are always valid, and that you do not accidentally create
situations where queries are invalid or the graph itself is invalid.</p>
<p>The S7 object system is not widely used yet, but we found that the S3
object system was too lenient, and it was hard for us to ensure that
graphs and queries were always valid. We found that S4 was too heavy and
cumbersome to work with.</p>
</div>
<div class="section level2">
<h2 id="future-work">Future work<a class="anchor" aria-label="anchor" href="#future-work"></a>
</h2>
<p>We plan on adding the following features to <code>caugi</code> in the
future:</p>
<ul>
<li>Graph classes: PAG, CPDAG, MAG, SWIG, ADMG,</li>
<li>Adjustment sets,</li>
<li>Structural Hamming Distance,</li>
<li>Adjustment Identification Distance,</li>
<li>d- and m-separation queries,</li>
<li>…and much more!</li>
</ul>
</div>
<div class="section level2">
<h2 id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; R version 4.5.1 (2025-06-13)</span></span>
<span><span class="co">#&gt; Platform: x86_64-pc-linux-gnu</span></span>
<span><span class="co">#&gt; Running under: Ubuntu 24.04.3 LTS</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Matrix products: default</span></span>
<span><span class="co">#&gt; BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">#&gt; LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; locale:</span></span>
<span><span class="co">#&gt;  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       </span></span>
<span><span class="co">#&gt;  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   </span></span>
<span><span class="co">#&gt;  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          </span></span>
<span><span class="co">#&gt; [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; time zone: UTC</span></span>
<span><span class="co">#&gt; tzcode source: system (glibc)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attached base packages:</span></span>
<span><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; other attached packages:</span></span>
<span><span class="co">#&gt; [1] caugi_0.0.0.9000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span><span class="co">#&gt;  [1] vctrs_0.6.5       cli_3.6.5         knitr_1.50        rlang_1.1.6      </span></span>
<span><span class="co">#&gt;  [5] xfun_0.53         generics_0.1.4    S7_0.2.0          textshaping_1.0.3</span></span>
<span><span class="co">#&gt;  [9] jsonlite_2.0.0    glue_1.8.0        htmltools_0.5.8.1 ragg_1.5.0       </span></span>
<span><span class="co">#&gt; [13] sass_0.4.10       rmarkdown_2.30    tibble_3.3.0      evaluate_1.0.5   </span></span>
<span><span class="co">#&gt; [17] jquerylib_0.1.4   fastmap_1.2.0     yaml_2.3.10       lifecycle_1.0.4  </span></span>
<span><span class="co">#&gt; [21] compiler_4.5.1    dplyr_1.1.4       fs_1.6.6          pkgconfig_2.0.3  </span></span>
<span><span class="co">#&gt; [25] htmlwidgets_1.6.4 systemfonts_1.3.1 digest_0.6.37     R6_2.6.1         </span></span>
<span><span class="co">#&gt; [29] utf8_1.2.6        tidyselect_1.2.1  pillar_1.11.1     magrittr_2.0.4   </span></span>
<span><span class="co">#&gt; [33] bslib_0.9.0       tools_4.5.1       pkgdown_2.1.3     cachem_1.1.0     </span></span>
<span><span class="co">#&gt; [37] desc_1.4.3</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Frederik Fabricius-Bjerre.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
