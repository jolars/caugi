<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Visualizing Causal Graphs with caugi • caugi</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualizing Causal Graphs with caugi">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">caugi</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/caugi.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/motivation.html">Motivation</a></li>
    <li><a class="dropdown-item" href="../articles/package_use.html">How to use caugi in a package</a></li>
    <li><a class="dropdown-item" href="../articles/performance.html">Performance</a></li>
    <li><a class="dropdown-item" href="../articles/serialization.html">Saving and Sharing Graphs with the Caugi Format</a></li>
    <li><a class="dropdown-item" href="../articles/visualization.html">Visualizing Causal Graphs with caugi</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/frederikfabriciusbjerre/caugi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Visualizing Causal Graphs with caugi</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/frederikfabriciusbjerre/caugi/blob/main/vignettes/visualization.Rmd" class="external-link"><code>vignettes/visualization.Rmd</code></a></small>
      <div class="d-none name"><code>visualization.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://caugi.org/">caugi</a></span><span class="op">)</span></span></code></pre></div>
<p>The <code>caugi</code> package provides a flexible plotting system
built on grid graphics for visualizing causal graphs. This vignette
demonstrates how to create plots with different layout algorithms and
customize their appearance.</p>
<div class="section level2">
<h2 id="basic-plotting">Basic Plotting<a class="anchor" aria-label="anchor" href="#basic-plotting"></a>
</h2>
<p>The simplest way to visualize a <code>caugi</code> graph is with the
<code><a href="../reference/plot.html">plot()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a simple DAG</span></span>
<span><span class="va">cg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi.html">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">A</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">B</span> <span class="op">+</span> <span class="va">C</span>,</span>
<span>  <span class="va">B</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">D</span>,</span>
<span>  <span class="va">C</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">D</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"DAG"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot with default settings</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">cg</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/basic-plot-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>By default, <code><a href="../reference/plot.html">plot()</a></code> automatically selects the best layout
algorithm based on your graph type. For graphs with only directed edges,
it uses the Sugiyama hierarchical layout. For graphs with other edge
types, it uses the Fruchterman-Reingold force-directed layout.</p>
</div>
<div class="section level2">
<h2 id="layout-algorithms">Layout Algorithms<a class="anchor" aria-label="anchor" href="#layout-algorithms"></a>
</h2>
<p>The <code>caugi</code> package provides four layout algorithms, each
optimized for different use cases.</p>
<div class="section level3">
<h3 id="sugiyama-hierarchical-layout">Sugiyama (Hierarchical Layout)<a class="anchor" aria-label="anchor" href="#sugiyama-hierarchical-layout"></a>
</h3>
<p>The Sugiyama layout <span class="citation">(Sugiyama, Tagawa, and
Toda 1981)</span> is ideal for directed acyclic graphs (DAGs). It
arranges nodes in layers to emphasize hierarchical structure and causal
flow from top to bottom, minimizing edge crossings.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a more complex DAG</span></span>
<span><span class="va">dag</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi.html">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">X1</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">M1</span> <span class="op">+</span> <span class="va">M2</span>,</span>
<span>  <span class="va">X2</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">M2</span> <span class="op">+</span> <span class="va">M3</span>,</span>
<span>  <span class="va">M1</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span>,</span>
<span>  <span class="va">M2</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span>,</span>
<span>  <span class="va">M3</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"DAG"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use Sugiyama layout explicitly</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">dag</span>, layout <span class="op">=</span> <span class="st">"sugiyama"</span>, main <span class="op">=</span> <span class="st">"Sugiyama"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/sugiyama-layout-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p><strong>Best for:</strong> DAGs, causal models, hierarchical
structures</p>
<p><strong>Limitations:</strong> Only works with directed edges</p>
</div>
<div class="section level3">
<h3 id="fruchterman-reingold-spring-electrical">Fruchterman-Reingold (Spring-Electrical)<a class="anchor" aria-label="anchor" href="#fruchterman-reingold-spring-electrical"></a>
</h3>
<p>The Fruchterman-Reingold layout <span class="citation">(Fruchterman
and Reingold 1991)</span> uses a physical simulation where edges act as
springs and nodes repel each other like charged particles. It produces
organic, symmetric layouts with relatively uniform edge lengths.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a graph with bidirected edges (ADMG)</span></span>
<span><span class="va">admg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi.html">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">A</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">C</span>,</span>
<span>  <span class="va">B</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">C</span>,</span>
<span>  <span class="va">A</span> <span class="op"><a href="../reference/edge_operators.html">%&lt;-&gt;%</a></span> <span class="va">B</span>, <span class="co"># Bidirected edge (latent confounder)</span></span>
<span>  class <span class="op">=</span> <span class="st">"ADMG"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fruchterman-Reingold handles all edge types</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">admg</span>, layout <span class="op">=</span> <span class="st">"fruchterman-reingold"</span>, main <span class="op">=</span> <span class="st">"Fruchterman-Reingold"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/fruchterman-reingold-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p><strong>Best for:</strong> General-purpose visualization, graphs with
mixed edge types</p>
<p><strong>Advantages:</strong> Fast, works with all edge types,
produces balanced layouts</p>
</div>
<div class="section level3">
<h3 id="kamada-kawai-stress-minimization">Kamada-Kawai (Stress Minimization)<a class="anchor" aria-label="anchor" href="#kamada-kawai-stress-minimization"></a>
</h3>
<p>The Kamada-Kawai layout <span class="citation">(Kamada and Kawai
1989)</span> minimizes “stress” by making Euclidean distances in the
plot proportional to graph-theoretic distances. This produces
high-quality layouts that better preserve the global structure compared
to Fruchterman-Reingold.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create an undirected graph</span></span>
<span><span class="va">ug</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi.html">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">A</span> <span class="op"><a href="../reference/edge_operators.html">%---%</a></span> <span class="va">B</span>,</span>
<span>  <span class="va">B</span> <span class="op"><a href="../reference/edge_operators.html">%---%</a></span> <span class="va">C</span> <span class="op">+</span> <span class="va">D</span>,</span>
<span>  <span class="va">C</span> <span class="op"><a href="../reference/edge_operators.html">%---%</a></span> <span class="va">D</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"UG"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">ug</span>, layout <span class="op">=</span> <span class="st">"kamada-kawai"</span>, main <span class="op">=</span> <span class="st">"Kamada-Kawai"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/kamada-kawai-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p><strong>Best for:</strong> Publication-quality figures, when accurate
distance representation matters</p>
<p><strong>Advantages:</strong> Better global structure preservation</p>
</div>
<div class="section level3">
<h3 id="bipartite-layout">Bipartite Layout<a class="anchor" aria-label="anchor" href="#bipartite-layout"></a>
</h3>
<p>The bipartite layout is designed for graphs with a clear two-group
structure, such as treatment/outcome or exposure/response relationships.
It arranges nodes in two parallel lines (rows or columns).</p>
<p>Here’s an example bipartite causal graph with treatments and
outcomes:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bipartite_graph</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi.html">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">Treatment_A</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">Outcome_1</span> <span class="op">+</span> <span class="va">Outcome_2</span> <span class="op">+</span> <span class="va">Outcome_3</span>,</span>
<span>  <span class="va">Treatment_B</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">Outcome_1</span> <span class="op">+</span> <span class="va">Outcome_2</span>,</span>
<span>  <span class="va">Treatment_C</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">Outcome_2</span> <span class="op">+</span> <span class="va">Outcome_3</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"DAG"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Horizontal rows (treatments on top, outcomes on bottom)</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">bipartite_graph</span>,</span>
<span>  layout <span class="op">=</span> <span class="st">"bipartite"</span>,</span>
<span>  orientation <span class="op">=</span> <span class="st">"rows"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/bipartite-basic-1.png" class="r-plt" alt="" width="480" style="display: block; margin: auto;"></p>
<p>Vertical columns (treatments on left, outcomes on right)</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">bipartite_graph</span>,</span>
<span>  layout <span class="op">=</span> <span class="st">"bipartite"</span>,</span>
<span>  orientation <span class="op">=</span> <span class="st">"columns"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/bipartite-vertical-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>The bipartite layout automatically detects which nodes should be in
which partition based on incoming edges. Nodes with no incoming edges
are placed in one group, while nodes with incoming edges are placed in
the other. You can also specify the partition explicitly:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">partition</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">bipartite_graph</span>,</span>
<span>  layout <span class="op">=</span> <span class="va">caugi_layout_bipartite</span>,</span>
<span>  partition <span class="op">=</span> <span class="va">partition</span>,</span>
<span>  orientation <span class="op">=</span> <span class="st">"rows"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/bipartite-explicit-1.png" class="r-plt" alt="" width="480" style="display: block; margin: auto;"></p>
<p><strong>Best for:</strong> Treatment-outcome structures,
exposure-response models, bipartite causal relationships</p>
<p><strong>Advantages:</strong> Clear visual separation, emphasizes
directed relationships between groups</p>
</div>
<div class="section level3">
<h3 id="tiered-layouts">Tiered Layouts<a class="anchor" aria-label="anchor" href="#tiered-layouts"></a>
</h3>
<p>For graphs with more than two hierarchical levels, the tiered layout
places nodes in multiple parallel tiers. This is ideal for visualizing
causal structures with clear stages, such as exposures → mediators →
outcomes.</p>
<p>First, create a simple three-tier causal graph:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cg_tiered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi.html">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">X1</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">M1</span> <span class="op">+</span> <span class="va">M2</span>,</span>
<span>  <span class="va">X2</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">M1</span> <span class="op">+</span> <span class="va">M2</span>,</span>
<span>  <span class="va">M1</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span>,</span>
<span>  <span class="va">M2</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We can define tiers using a named list:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tiers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  exposures <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X1"</span>, <span class="st">"X2"</span><span class="op">)</span>,</span>
<span>  mediators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M1"</span>, <span class="st">"M2"</span><span class="op">)</span>,</span>
<span>  outcome <span class="op">=</span> <span class="st">"Y"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">cg_tiered</span>, layout <span class="op">=</span> <span class="st">"tiered"</span>, tiers <span class="op">=</span> <span class="va">tiers</span>, orientation <span class="op">=</span> <span class="st">"rows"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/tiered-named-list-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>The tiered layout supports three input formats:</p>
<ul>
<li>named lists,</li>
<li>named numeric vectors, and</li>
<li>
<code>data.frame</code>s.</li>
</ul>
<p>Named lists is the most intuitive format, and what we have already
shown. But you can also use a named numeric vector:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tiers_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>X1 <span class="op">=</span> <span class="fl">1</span>, X2 <span class="op">=</span> <span class="fl">1</span>, M1 <span class="op">=</span> <span class="fl">2</span>, M2 <span class="op">=</span> <span class="fl">2</span>, Y <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">cg_tiered</span>, layout <span class="op">=</span> <span class="st">"tiered"</span>, tiers <span class="op">=</span> <span class="va">tiers_vector</span>, orientation <span class="op">=</span> <span class="st">"columns"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/tiered-vector-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>Finally, you can use a <code>data.frame</code> to specify tiers
directly.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tiers_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X1"</span>, <span class="st">"X2"</span>, <span class="st">"M1"</span>, <span class="st">"M2"</span>, <span class="st">"Y"</span><span class="op">)</span>,</span>
<span>  tier <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">layout_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi_layout_tiered.html">caugi_layout_tiered</a></span><span class="op">(</span><span class="va">cg_tiered</span>, <span class="va">tiers_df</span>, orientation <span class="op">=</span> <span class="st">"rows"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">cg_tiered</span>, layout <span class="op">=</span> <span class="va">layout_df</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/tiered-dataframe-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p><strong>Best for:</strong> Multi-stage causal processes, mediation
analysis, temporal sequences, hierarchical structures</p>
<p><strong>Advantages:</strong> Clear stage separation, flexible tier
assignment, supports 2+ tiers, multiple input formats</p>
</div>
<div class="section level3">
<h3 id="comparing-layouts">Comparing Layouts<a class="anchor" aria-label="anchor" href="#comparing-layouts"></a>
</h3>
<p>You can compute and examine layout coordinates directly using
<code><a href="../reference/caugi_layout.html">caugi_layout()</a></code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">layout_sug</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi_layout.html">caugi_layout</a></span><span class="op">(</span><span class="va">dag</span>, method <span class="op">=</span> <span class="st">"sugiyama"</span><span class="op">)</span></span>
<span><span class="va">layout_fr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi_layout.html">caugi_layout</a></span><span class="op">(</span><span class="va">dag</span>, method <span class="op">=</span> <span class="st">"fruchterman-reingold"</span><span class="op">)</span></span>
<span><span class="va">layout_kk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi_layout.html">caugi_layout</a></span><span class="op">(</span><span class="va">dag</span>, method <span class="op">=</span> <span class="st">"kamada-kawai"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Examine coordinates</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">layout_sug</span><span class="op">)</span></span>
<span><span class="co">#&gt;   name    x   y</span></span>
<span><span class="co">#&gt; 1   X1 0.25 0.0</span></span>
<span><span class="co">#&gt; 2   X2 0.75 0.0</span></span>
<span><span class="co">#&gt; 3   M1 0.00 0.5</span></span>
<span><span class="co">#&gt; 4   M2 0.50 0.5</span></span>
<span><span class="co">#&gt; 5   M3 1.00 0.5</span></span>
<span><span class="co">#&gt; 6    Y 0.50 1.0</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="customizing-plots">Customizing Plots<a class="anchor" aria-label="anchor" href="#customizing-plots"></a>
</h2>
<p>The <code><a href="../reference/plot.html">plot()</a></code> function provides extensive customization
options for nodes, edges, and labels.</p>
<div class="section level3">
<h3 id="node-styling">Node Styling<a class="anchor" aria-label="anchor" href="#node-styling"></a>
</h3>
<p>You can customize the appearance of nodes using the
<code>node_style</code> parameter. Styles may be applied globally (to
all nodes) or locally (to specific nodes).</p>
<p>Apply the same style to all nodes:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">cg</span>,</span>
<span>  node_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"lightblue"</span>, <span class="co"># Fill color</span></span>
<span>    col <span class="op">=</span> <span class="st">"darkblue"</span>, <span class="co"># Border color</span></span>
<span>    lwd <span class="op">=</span> <span class="fl">2</span>, <span class="co"># Border width</span></span>
<span>    padding <span class="op">=</span> <span class="fl">4</span>, <span class="co"># Text padding (mm)</span></span>
<span>    size <span class="op">=</span> <span class="fl">1.2</span> <span class="co"># Size multiplier</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/node-styling-global-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>Customize styles for individual nodes using the <code>by_node</code>
option:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">cg</span>,</span>
<span>  node_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    by_node <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      A <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"red"</span>, col <span class="op">=</span> <span class="st">"blue"</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>      B <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>padding <span class="op">=</span> <span class="st">"2"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/node-styling-locally-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>Available node style parameters:</p>
<ul>
<li>
<strong>Appearance (passed to <code><a href="https://rdrr.io/r/grid/gpar.html" class="external-link">gpar()</a></code>)</strong>:
<code>fill</code>, <code>col</code>, <code>lwd</code>, <code>lty</code>,
<code>alpha</code>
</li>
<li>
<strong>Geometry</strong>: <code>padding</code> (text padding in
mm), <code>size</code> (node size multiplier)</li>
</ul>
</div>
<div class="section level3">
<h3 id="edge-styling">Edge Styling<a class="anchor" aria-label="anchor" href="#edge-styling"></a>
</h3>
<p>You can customize edge appearance using the <code>edge_style</code>
parameter. Styles can be applied globally, by edge type, by source node,
or to individual edges.</p>
<p>Apply the same styling to all edges in the graph:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">dag</span>,</span>
<span>  edge_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    col <span class="op">=</span> <span class="st">"darkgray"</span>, <span class="co"># Edge color</span></span>
<span>    lwd <span class="op">=</span> <span class="fl">1.5</span>, <span class="co"># Edge width</span></span>
<span>    arrow_size <span class="op">=</span> <span class="fl">4</span> <span class="co"># Arrow size (mm)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/edge-styling-global-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>Customize different edge types (e.g., directed vs. bidirected
edges):</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">admg</span>,</span>
<span>  layout <span class="op">=</span> <span class="st">"fruchterman-reingold"</span>,</span>
<span>  edge_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    directed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"blue"</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>    bidirected <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"red"</span>, lwd <span class="op">=</span> <span class="fl">2</span>, lty <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/edge-styling-per-type-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>Apply styling to all edges from a given node:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">admg</span>,</span>
<span>  layout <span class="op">=</span> <span class="st">"fruchterman-reingold"</span>,</span>
<span>  edge_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    by_edge <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      A <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"green"</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/edge-styling-per-node-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>Target an individual edge between two nodes:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">admg</span>,</span>
<span>  layout <span class="op">=</span> <span class="st">"fruchterman-reingold"</span>,</span>
<span>  edge_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    by_edge <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      A <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        B <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"orange"</span>, lwd <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/edge-styling-per-specific-edge-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>The style precedence is as follows (highest to lowest):</p>
<ol style="list-style-type: decimal">
<li>Specific edge (<code>by_edge</code> with both from and to
nodes)</li>
<li>All edges from a node (<code>by_edge</code> with only from
node)</li>
<li>Per-type edge styles (<code>directed</code>,
<code>undirected</code>, etc.)</li>
<li>Global edge styles</li>
</ol>
<p>The example below combines global, per-type, per-node, and per-edge
styling in a single plot. More specific styles override more general
ones according to the precedence rules above.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">admg</span>,</span>
<span>  layout <span class="op">=</span> <span class="st">"fruchterman-reingold"</span>,</span>
<span>  edge_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="co"># Global defaults</span></span>
<span>    col <span class="op">=</span> <span class="st">"gray80"</span>,</span>
<span>    lwd <span class="op">=</span> <span class="fl">1</span>,</span>
<span></span>
<span>    <span class="co"># Per-type styling</span></span>
<span>    directed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span>,</span>
<span>    bidirected <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"red"</span>, lty <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span>,</span>
<span></span>
<span>    <span class="co"># All edges from node A</span></span>
<span>    by_edge <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      A <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        col <span class="op">=</span> <span class="st">"green"</span>,</span>
<span>        lwd <span class="op">=</span> <span class="fl">2</span>,</span>
<span></span>
<span>        <span class="co"># Specific edge A -&gt; B</span></span>
<span>        B <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>          col <span class="op">=</span> <span class="st">"orange"</span>,</span>
<span>          lwd <span class="op">=</span> <span class="fl">3</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/edge-styling-combined-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>Available edge style parameters:</p>
<ul>
<li>
<strong>Appearance (passed to <code><a href="https://rdrr.io/r/grid/gpar.html" class="external-link">gpar()</a></code>)</strong>:
<code>col</code>, <code>lwd</code>, <code>lty</code>,
<code>alpha</code>, <code>fill</code>
</li>
<li>
<strong>Geometry</strong>: <code>arrow_size</code> (arrow length in
mm), <code>circle_size</code> (radius of endpoint circles for partial
edges in mm)</li>
<li>
<strong>Per-type options</strong>: <code>directed</code>,
<code>undirected</code>, <code>bidirected</code>,
<code>partial</code>
</li>
</ul>
<div class="section level4">
<h4 id="partial-edges">Partial Edges<a class="anchor" aria-label="anchor" href="#partial-edges"></a>
</h4>
<p>Partial edges (<code>o-&gt;</code> and <code>o-o</code>) are rendered
with circles at their endpoints to indicate uncertainty about edge
orientation. These edges appear in PAGs (Partial Ancestral Graphs). You
can customize the circle size:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi.html">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">A</span> <span class="op"><a href="../reference/edge_operators.html">%o-&gt;%</a></span> <span class="va">B</span>,</span>
<span>  <span class="va">B</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">C</span>,</span>
<span>  <span class="va">C</span> <span class="op"><a href="../reference/edge_operators.html">%o-o%</a></span> <span class="va">D</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"UNKNOWN"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">g</span>,</span>
<span>  edge_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    partial <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      col <span class="op">=</span> <span class="st">"purple"</span>,</span>
<span>      lwd <span class="op">=</span> <span class="fl">2</span>,</span>
<span>      circle_size <span class="op">=</span> <span class="fl">2.5</span> <span class="co"># Larger circles (default is 1.5)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/partial-edges-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level3">
<h3 id="label-styling">Label Styling<a class="anchor" aria-label="anchor" href="#label-styling"></a>
</h3>
<p>Customize node labels with the <code>label_style</code>
parameter:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">cg</span>,</span>
<span>  main <span class="op">=</span> <span class="st">"Customized Labels"</span>,</span>
<span>  label_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    col <span class="op">=</span> <span class="st">"white"</span>, <span class="co"># Text color</span></span>
<span>    fontsize <span class="op">=</span> <span class="fl">12</span>, <span class="co"># Font size</span></span>
<span>    fontface <span class="op">=</span> <span class="st">"bold"</span>, <span class="co"># Font face</span></span>
<span>    fontfamily <span class="op">=</span> <span class="st">"sans"</span> <span class="co"># Font family</span></span>
<span>  <span class="op">)</span>,</span>
<span>  node_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"navy"</span> <span class="co"># Dark background for white text</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/label-styling-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>Available label style parameters (passed to <code><a href="https://rdrr.io/r/grid/gpar.html" class="external-link">gpar()</a></code>):</p>
<ul>
<li>
<code>col</code>, <code>fontsize</code>, <code>fontface</code>,
<code>fontfamily</code>, <code>cex</code>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="styling-tiered-layouts">Styling Tiered Layouts<a class="anchor" aria-label="anchor" href="#styling-tiered-layouts"></a>
</h3>
<p>By default, tiered layouts are plotted with boxes around each tier
and labels indicating the tier names (if provided).</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">cg_tiered</span>, tiers <span class="op">=</span> <span class="va">tiers</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/tiered-boxes-basic-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>But you can customize the appearance of tier boxes using the
<code>tier_style</code> parameter. Here, for isntance, we specify
different fill colors for each tier using a vector.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">cg_tiered</span>,</span>
<span>  tiers <span class="op">=</span> <span class="va">tiers</span>,</span>
<span>  tier_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lightblue"</span>, <span class="st">"lightgreen"</span>, <span class="st">"lightyellow"</span><span class="op">)</span>,</span>
<span>    col <span class="op">=</span> <span class="st">"gray50"</span>,</span>
<span>    lty <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    alpha <span class="op">=</span> <span class="fl">0.3</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/tiered-boxes-vector-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>For more granular control, you can specify styles for individual
tiers. Here, we customize the “exposures” and “outcome” tiers
specifically:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">cg_tiered</span>,</span>
<span>  tiers <span class="op">=</span> <span class="va">tiers</span>,</span>
<span>  tier_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"gray95"</span>,</span>
<span>    col <span class="op">=</span> <span class="st">"gray60"</span>,</span>
<span>    alpha <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>    by_tier <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      exposures <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        fill <span class="op">=</span> <span class="st">"lightblue"</span>,</span>
<span>        col <span class="op">=</span> <span class="st">"blue"</span>,</span>
<span>        lwd <span class="op">=</span> <span class="fl">2</span></span>
<span>      <span class="op">)</span>,</span>
<span>      outcome <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        fill <span class="op">=</span> <span class="st">"lightyellow"</span>,</span>
<span>        col <span class="op">=</span> <span class="st">"orange"</span>,</span>
<span>        lwd <span class="op">=</span> <span class="fl">3</span>,</span>
<span>        lty <span class="op">=</span> <span class="fl">1</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/tiered-boxes-by-tier-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>Labels for the tiers can also be customized. Here, for example, we
change the font size and color of the tier labels:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">cg_tiered</span>,</span>
<span>  tiers <span class="op">=</span> <span class="va">tiers</span>, <span class="co"># Named list: exposures, mediators, outcome</span></span>
<span>  tier_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lightblue"</span>, <span class="st">"lightgreen"</span>, <span class="st">"lightyellow"</span><span class="op">)</span>,</span>
<span>    label_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      fontsize <span class="op">=</span> <span class="fl">11</span>,</span>
<span>      fontface <span class="op">=</span> <span class="st">"bold"</span>,</span>
<span>      col <span class="op">=</span> <span class="st">"gray20"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/tiered-boxes-labels-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>You can also provide custom labels for each tier instead of using the
names from the tiers object</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">cg_tiered</span>,</span>
<span>  tiers <span class="op">=</span> <span class="va">tiers</span>,</span>
<span>  tier_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"gray95"</span>,</span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Exposure Variables"</span>, <span class="st">"Mediating Variables"</span>, <span class="st">"Outcome Variable"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/tiered-boxes-custom-labels-1.png" class="r-plt" alt="" width="480" style="display: block; margin: auto;"></p>
<p>If you don’t want any boxes or labels around the tiers, you can
disable them:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">cg_tiered</span>,</span>
<span>  tiers <span class="op">=</span> <span class="va">tiers</span>,</span>
<span>  tier_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>boxes <span class="op">=</span> <span class="cn">FALSE</span>, labels <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/tiered-boxes-none-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="working-with-different-graph-types">Working with Different Graph Types<a class="anchor" aria-label="anchor" href="#working-with-different-graph-types"></a>
</h2>
<p>The plotting system works with all graph types supported by
<code>caugi</code>.</p>
<div class="section level3">
<h3 id="partially-directed-acyclic-graphs-pdags">Partially Directed Acyclic Graphs (PDAGs)<a class="anchor" aria-label="anchor" href="#partially-directed-acyclic-graphs-pdags"></a>
</h3>
<p>First, let’s create a PDAG with both directed and undirected
edges:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pdag</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi.html">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">A</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">B</span>,</span>
<span>  <span class="va">B</span> <span class="op"><a href="../reference/edge_operators.html">%---%</a></span> <span class="va">C</span>, <span class="co"># Undirected edge</span></span>
<span>  <span class="va">C</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">D</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"PDAG"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">pdag</span>,</span>
<span>  edge_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    directed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span>,</span>
<span>    undirected <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"gray"</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/pdag-plot-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="acyclic-directed-mixed-graphs-admgs">Acyclic Directed Mixed Graphs (ADMGs)<a class="anchor" aria-label="anchor" href="#acyclic-directed-mixed-graphs-admgs"></a>
</h3>
<p>Here’s an example of an ADMG with directed and bidirected edges:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">complex_admg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi.html">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">X</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">M1</span> <span class="op">+</span> <span class="va">M2</span>,</span>
<span>  <span class="va">M1</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span>,</span>
<span>  <span class="va">M2</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span>,</span>
<span>  <span class="va">M1</span> <span class="op"><a href="../reference/edge_operators.html">%&lt;-&gt;%</a></span> <span class="va">M2</span>, <span class="co"># Latent confounder between mediators</span></span>
<span>  class <span class="op">=</span> <span class="st">"ADMG"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">complex_admg</span>,</span>
<span>  layout <span class="op">=</span> <span class="st">"kamada-kawai"</span>,</span>
<span>  node_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"lavender"</span><span class="op">)</span>,</span>
<span>  edge_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    directed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"black"</span>, lwd <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span>,</span>
<span>    bidirected <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"red"</span>, lwd <span class="op">=</span> <span class="fl">1.5</span>, lty <span class="op">=</span> <span class="st">"dashed"</span>, arrow_size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/admg-plot-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="undirected-graphs-ugs">Undirected Graphs (UGs)<a class="anchor" aria-label="anchor" href="#undirected-graphs-ugs"></a>
</h3>
<p>We also support undirected graphs. Here’s a Markov random field
example:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">markov</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi.html">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">A</span> <span class="op"><a href="../reference/edge_operators.html">%---%</a></span> <span class="va">B</span> <span class="op">+</span> <span class="va">C</span>,</span>
<span>  <span class="va">B</span> <span class="op"><a href="../reference/edge_operators.html">%---%</a></span> <span class="va">D</span>,</span>
<span>  <span class="va">C</span> <span class="op"><a href="../reference/edge_operators.html">%---%</a></span> <span class="va">D</span> <span class="op">+</span> <span class="va">E</span>,</span>
<span>  <span class="va">D</span> <span class="op"><a href="../reference/edge_operators.html">%---%</a></span> <span class="va">E</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"UG"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">markov</span>,</span>
<span>  layout <span class="op">=</span> <span class="st">"fruchterman-reingold"</span>,</span>
<span>  node_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"lightyellow"</span>,</span>
<span>    col <span class="op">=</span> <span class="st">"orange"</span>,</span>
<span>    lwd <span class="op">=</span> <span class="fl">2</span></span>
<span>  <span class="op">)</span>,</span>
<span>  edge_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/ug-plot-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="plot-composition">Plot Composition<a class="anchor" aria-label="anchor" href="#plot-composition"></a>
</h2>
<p>The <code>caugi</code> package provides intuitive operators for
composing multiple plots into complex layouts, similar to the patchwork
package.</p>
<div class="section level3">
<h3 id="basic-composition">Basic Composition<a class="anchor" aria-label="anchor" href="#basic-composition"></a>
</h3>
<p>Use <code>+</code> or <code>|</code> for horizontal arrangement and
<code>/</code> for vertical stacking:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create two different graphs</span></span>
<span><span class="va">g1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi.html">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">A</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">B</span>,</span>
<span>  <span class="va">B</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">C</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"DAG"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">g2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi.html">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">X</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span>,</span>
<span>  <span class="va">Y</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">Z</span>,</span>
<span>  <span class="va">X</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">Z</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"DAG"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create plots</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">g1</span>, main <span class="op">=</span> <span class="st">"Graph 1"</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">g2</span>, main <span class="op">=</span> <span class="st">"Graph 2"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Horizontal composition (side-by-side)</span></span>
<span><span class="va">p1</span> <span class="op">+</span> <span class="va">p2</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/composition-basic-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>The <code>|</code> operator is an alias for <code>+</code>:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Equivalent to p1 + p2</span></span>
<span><span class="va">p1</span> <span class="op">|</span> <span class="va">p2</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/composition-pipe-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>For vertical stacking, use the <code>/</code> operator:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span> <span class="op">/</span> <span class="va">p2</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/composition-vertical-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="nested-compositions">Nested Compositions<a class="anchor" aria-label="anchor" href="#nested-compositions"></a>
</h3>
<p>Compositions can be nested to create complex multi-plot layouts:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi.html">caugi</a></span><span class="op">(</span></span>
<span>  <span class="va">M1</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">M2</span>,</span>
<span>  <span class="va">M2</span> <span class="op"><a href="../reference/edge_operators.html">%--&gt;%</a></span> <span class="va">M3</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"DAG"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">g3</span>, main <span class="op">=</span> <span class="st">"Graph 3"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Complex layout: two plots on top, one below</span></span>
<span><span class="op">(</span><span class="va">p1</span> <span class="op">+</span> <span class="va">p2</span><span class="op">)</span> <span class="op">/</span> <span class="va">p3</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/composition-nested-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>You can mix operators freely. Here’s an example combining horizontal
and vertical arrangements:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">p1</span> <span class="op">+</span> <span class="va">p2</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="va">p3</span> <span class="op">+</span> <span class="va">p1</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/composition-mixed-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="configuring-spacing">Configuring Spacing<a class="anchor" aria-label="anchor" href="#configuring-spacing"></a>
</h3>
<p>The spacing between composed plots is controlled globally via
<code><a href="../reference/caugi_options.html">caugi_options()</a></code>:</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/caugi_options.html">caugi_options</a></span><span class="op">(</span>plot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>spacing <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"lines"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span> <span class="op">+</span> <span class="va">p2</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/composition-spacing-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>To reset the default, you can call
<code><a href="../reference/caugi_default_options.html">caugi_default_options()</a></code>:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/caugi_options.html">caugi_options</a></span><span class="op">(</span><span class="fu"><a href="../reference/caugi_default_options.html">caugi_default_options</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="global-plot-options">Global Plot Options<a class="anchor" aria-label="anchor" href="#global-plot-options"></a>
</h2>
<p>The <code><a href="../reference/caugi_options.html">caugi_options()</a></code> function allows you to set global
defaults for plot appearance, which can be overridden on a per-plot
basis.</p>
<div class="section level3">
<h3 id="setting-default-styles">Setting Default Styles<a class="anchor" aria-label="anchor" href="#setting-default-styles"></a>
</h3>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Configure global defaults</span></span>
<span><span class="fu"><a href="../reference/caugi_options.html">caugi_options</a></span><span class="op">(</span>plot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  node_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"lightblue"</span>, padding <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  edge_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>arrow_size <span class="op">=</span> <span class="fl">4</span>, fill <span class="op">=</span> <span class="st">"darkgray"</span><span class="op">)</span>,</span>
<span>  title_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"blue"</span>, fontsize <span class="op">=</span> <span class="fl">16</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># This plot uses the global defaults</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">cg</span>, main <span class="op">=</span> <span class="st">"Using Global Defaults"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/global-options-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="per-plot-overrides">Per-Plot Overrides<a class="anchor" aria-label="anchor" href="#per-plot-overrides"></a>
</h3>
<p>Global options serve as defaults that can be overridden:</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set global node color</span></span>
<span><span class="fu"><a href="../reference/caugi_options.html">caugi_options</a></span><span class="op">(</span>plot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  node_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"lightblue"</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Override for this specific plot</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">cg</span>,</span>
<span>  main <span class="op">=</span> <span class="st">"Custom Colors"</span>,</span>
<span>  node_style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"pink"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/override-options-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Reset to defauls</span></span>
<span><span class="fu"><a href="../reference/caugi_options.html">caugi_options</a></span><span class="op">(</span><span class="fu"><a href="../reference/caugi_default_options.html">caugi_default_options</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="available-options">Available Options<a class="anchor" aria-label="anchor" href="#available-options"></a>
</h3>
<p>The following options can be configured under <code>plot</code>:</p>
<ul>
<li>
<strong><code>spacing</code></strong>: A <code><a href="https://rdrr.io/r/grid/unit.html" class="external-link">grid::unit()</a></code>
controlling space between composed plots</li>
<li>
<strong><code>node_style</code></strong>: List with
<code>fill</code>, <code>padding</code>, and <code>size</code>
</li>
<li>
<strong><code>edge_style</code></strong>: List with
<code>arrow_size</code> and <code>fill</code>
</li>
<li>
<strong><code>label_style</code></strong>: List of text parameters
(see <code><a href="https://rdrr.io/r/grid/gpar.html" class="external-link">grid::gpar()</a></code>)</li>
<li>
<strong><code>title_style</code></strong>: List with
<code>col</code>, <code>fontface</code>, and <code>fontsize</code>
</li>
</ul>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View all current options</span></span>
<span><span class="fu"><a href="../reference/caugi_options.html">caugi_options</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $use_open_graph_definition</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot</span></span>
<span><span class="co">#&gt; $plot$spacing</span></span>
<span><span class="co">#&gt; [1] 1lines</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$node_style</span></span>
<span><span class="co">#&gt; $plot$node_style$fill</span></span>
<span><span class="co">#&gt; [1] "lightgrey"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$node_style$padding</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$node_style$size</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$edge_style</span></span>
<span><span class="co">#&gt; $plot$edge_style$arrow_size</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$edge_style$circle_size</span></span>
<span><span class="co">#&gt; [1] 1.5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$edge_style$fill</span></span>
<span><span class="co">#&gt; [1] "black"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$label_style</span></span>
<span><span class="co">#&gt; list()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$title_style</span></span>
<span><span class="co">#&gt; $plot$title_style$col</span></span>
<span><span class="co">#&gt; [1] "black"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$title_style$fontface</span></span>
<span><span class="co">#&gt; [1] "bold"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$title_style$fontsize</span></span>
<span><span class="co">#&gt; [1] 14.4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$tier_style</span></span>
<span><span class="co">#&gt; $plot$tier_style$boxes</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$tier_style$labels</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$tier_style$fill</span></span>
<span><span class="co">#&gt; [1] "lightsteelblue"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$tier_style$col</span></span>
<span><span class="co">#&gt; [1] "transparent"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$tier_style$label_style</span></span>
<span><span class="co">#&gt; list()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$tier_style$lwd</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$tier_style$alpha</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plot$tier_style$padding</span></span>
<span><span class="co">#&gt; [1] 4mm</span></span>
<span></span>
<span><span class="co"># Query specific option</span></span>
<span><span class="fu"><a href="../reference/caugi_options.html">caugi_options</a></span><span class="op">(</span><span class="st">"plot"</span><span class="op">)</span></span>
<span><span class="co">#&gt; $spacing</span></span>
<span><span class="co">#&gt; [1] 1lines</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $node_style</span></span>
<span><span class="co">#&gt; $node_style$fill</span></span>
<span><span class="co">#&gt; [1] "lightgrey"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $node_style$padding</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $node_style$size</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $edge_style</span></span>
<span><span class="co">#&gt; $edge_style$arrow_size</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $edge_style$circle_size</span></span>
<span><span class="co">#&gt; [1] 1.5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $edge_style$fill</span></span>
<span><span class="co">#&gt; [1] "black"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $label_style</span></span>
<span><span class="co">#&gt; list()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $title_style</span></span>
<span><span class="co">#&gt; $title_style$col</span></span>
<span><span class="co">#&gt; [1] "black"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $title_style$fontface</span></span>
<span><span class="co">#&gt; [1] "bold"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $title_style$fontsize</span></span>
<span><span class="co">#&gt; [1] 14.4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tier_style</span></span>
<span><span class="co">#&gt; $tier_style$boxes</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tier_style$labels</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tier_style$fill</span></span>
<span><span class="co">#&gt; [1] "lightsteelblue"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tier_style$col</span></span>
<span><span class="co">#&gt; [1] "transparent"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tier_style$label_style</span></span>
<span><span class="co">#&gt; list()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tier_style$lwd</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tier_style$alpha</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tier_style$padding</span></span>
<span><span class="co">#&gt; [1] 4mm</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="advanced-usage">Advanced Usage<a class="anchor" aria-label="anchor" href="#advanced-usage"></a>
</h2>
<div class="section level3">
<h3 id="manual-layouts">Manual Layouts<a class="anchor" aria-label="anchor" href="#manual-layouts"></a>
</h3>
<p>You can compute layouts separately and reuse them. First, compute the
layout coordinates:</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">coords</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caugi_layout.html">caugi_layout</a></span><span class="op">(</span><span class="va">dag</span>, method <span class="op">=</span> <span class="st">"sugiyama"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The layout can be used for analysis or custom plotting</span></span>
<span><span class="fu"><a href="../reference/print.html">print</a></span><span class="op">(</span><span class="va">coords</span><span class="op">)</span></span>
<span><span class="co">#&gt;   name    x   y</span></span>
<span><span class="co">#&gt; 1   X1 0.25 0.0</span></span>
<span><span class="co">#&gt; 2   X2 0.75 0.0</span></span>
<span><span class="co">#&gt; 3   M1 0.00 0.5</span></span>
<span><span class="co">#&gt; 4   M2 0.50 0.5</span></span>
<span><span class="co">#&gt; 5   M3 1.00 0.5</span></span>
<span><span class="co">#&gt; 6    Y 0.50 1.0</span></span>
<span></span>
<span><span class="co"># Plot uses the same layout, calling caugi_layout internally</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">dag</span>, layout <span class="op">=</span> <span class="st">"sugiyama"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/manual-layout-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="integration-with-grid-graphics">Integration with Grid Graphics<a class="anchor" aria-label="anchor" href="#integration-with-grid-graphics"></a>
</h3>
<p><code>caugi</code> plots are built on grid graphics, and provide
access to the underlying grid <code>grob</code> object in the
<code>@grob</code> slot of the plot output. This allows for further
customization using grid functions.</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a plot</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">cg</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The grob slot is a grid graphics object</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">p</span><span class="op">@</span><span class="va">grob</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "gTree" "grob"  "gDesc"</span></span>
<span></span>
<span><span class="co"># You can manipulate it with grid functions</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">grid</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Draw the plot rotated by 30 degrees</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grid/viewports.html" class="external-link">pushViewport</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grid/viewport.html" class="external-link">viewport</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">30</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grid/grid.draw.html" class="external-link">grid.draw</a></span><span class="op">(</span><span class="va">p</span><span class="op">@</span><span class="va">grob</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grid/viewports.html" class="external-link">popViewport</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualization_files/figure-html/grid-integration-1.png" class="r-plt" alt="" width="700" style="display: block; margin: auto;"></p>
<p>The composition operators work by manipulating these grid grobs,
creating flexible and performant multi-plot layouts without requiring
external packages.</p>
</div>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-fruchterman1991" class="csl-entry">
Fruchterman, Thomas M. J., and Edward M. Reingold. 1991. <span>“Graph
Drawing by Force-Directed Placement.”</span> <em>Software: Practice and
Experience</em> 21 (11): 1129–64. <a href="https://doi.org/10.1002/spe.4380211102" class="external-link">https://doi.org/10.1002/spe.4380211102</a>.
</div>
<div id="ref-kamada1989" class="csl-entry">
Kamada, Tomihisa, and Satoru Kawai. 1989. <span>“An Algorithm for
Drawing General Undirected Graphs.”</span> <em>Information Processing
Letters</em> 31 (1): 7–15. <a href="https://doi.org/10.1016/0020-0190(89)90102-6" class="external-link">https://doi.org/10.1016/0020-0190(89)90102-6</a>.
</div>
<div id="ref-sugiyama1981" class="csl-entry">
Sugiyama, Kozo, Shojiro Tagawa, and Mitsuhiko Toda. 1981. <span>“Methods
for Visual Understanding of Hierarchical System Structures.”</span>
<em>IEEE Transactions on Systems, Man, and Cybernetics</em> 11 (2):
109–25. <a href="https://doi.org/10.1109/TSMC.1981.4308636" class="external-link">https://doi.org/10.1109/TSMC.1981.4308636</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Frederik Fabricius-Bjerre, Johan Larsson, Michael Sachs, Bjarke Hautop Kristensen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
