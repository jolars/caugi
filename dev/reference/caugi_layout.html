<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute Graph Layout — caugi_layout • caugi</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute Graph Layout — caugi_layout"><meta name="description" content="Computes node coordinates for graph visualization using
specified layout algorithm. If the graph has not been built yet, it will
be built automatically before computing the layout."><meta property="og:description" content="Computes node coordinates for graph visualization using
specified layout algorithm. If the graph has not been built yet, it will
be built automatically before computing the layout."><meta property="og:image" content="https://caugi.org/reference/figures/og.png"><meta property="og:image:alt" content="The name 'caugi' on the left and a graph on the right with corgi dogs as nodes."><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">caugi</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/caugi.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/motivation.html">Motivation</a></li>
    <li><a class="dropdown-item" href="../articles/package_use.html">How to use caugi in a package</a></li>
    <li><a class="dropdown-item" href="../articles/performance.html">Performance</a></li>
    <li><a class="dropdown-item" href="../articles/serialization.html">Saving and Sharing Graphs with the Caugi Format</a></li>
    <li><a class="dropdown-item" href="../articles/visualization.html">Visualizing Causal Graphs with caugi</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/frederikfabriciusbjerre/caugi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Compute Graph Layout</h1>
      <small class="dont-index">Source: <a href="https://github.com/frederikfabriciusbjerre/caugi/blob/main/R/layout.R" class="external-link"><code>R/layout.R</code></a></small>
      <div class="d-none name"><code>caugi_layout.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes node coordinates for graph visualization using
specified layout algorithm. If the graph has not been built yet, it will
be built automatically before computing the layout.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">caugi_layout</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auto"</span>, <span class="st">"sugiyama"</span>, <span class="st">"fruchterman-reingold"</span>, <span class="st">"kamada-kawai"</span>, <span class="st">"bipartite"</span>,</span>
<span>    <span class="st">"tiered"</span><span class="op">)</span>,</span>
<span>  packing_ratio <span class="op">=</span> <span class="fl">1.618034</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>Fruchterman, T. M. J., &amp; Reingold, E. M. (1991). Graph drawing by
force-directed placement. Software: Practice and Experience, 21(11),
1129-1164. <a href="https://doi.org/10.1002/spe.4380211102" class="external-link">doi:10.1002/spe.4380211102</a></p>
<p>Kamada, T., &amp; Kawai, S. (1989). An algorithm for drawing general
undirected graphs. Information Processing Letters, 31(1), 7-15.
<a href="https://doi.org/10.1016/0020-0190%2889%2990102-6" class="external-link">doi:10.1016/0020-0190(89)90102-6</a></p>
<p>Sugiyama, K., Tagawa, S., &amp; Toda, M. (1981). Methods for visual
understanding of hierarchical system structures. IEEE Transactions on
Systems, Man, and Cybernetics, 11(2), 109-125.
<a href="https://doi.org/10.1109/TSMC.1981.4308636" class="external-link">doi:10.1109/TSMC.1981.4308636</a></p>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>caugi</code> object. Must contain only directed edges for Sugiyama
layout.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Character string specifying the layout method. Options:</p><ul><li><p><code>"auto"</code>: Automatically choose the best layout (default). Selection order:</p><ol><li><p>If <code>tiers</code> is provided, uses <code>"tiered"</code></p></li>
<li><p>If <code>partition</code> is provided, uses <code>"bipartite"</code></p></li>
<li><p>If graph has only directed edges, uses <code>"sugiyama"</code></p></li>
<li><p>Otherwise, uses <code>"fruchterman-reingold"</code></p></li>
</ol></li>
<li><p><code>"sugiyama"</code>: Hierarchical layout for DAGs (requires only directed edges)</p></li>
<li><p><code>"fruchterman-reingold"</code>: Fast spring-electrical layout (works with all
edge types)</p></li>
<li><p><code>"kamada-kawai"</code>: High-quality stress minimization (works with all edge
types)</p></li>
<li><p><code>"bipartite"</code>: Bipartite layout (requires <code>partition</code> parameter)</p></li>
<li><p><code>"tiered"</code>: Multi-tier layout (requires <code>tiers</code> parameter)</p></li>
</ul></dd>


<dt id="arg-packing-ratio">packing_ratio<a class="anchor" aria-label="anchor" href="#arg-packing-ratio"></a></dt>
<dd><p>Aspect ratio for packing disconnected components
(width/height). Default is the golden ratio (1.618) which works well with
widescreen displays. Use <code>1.0</code> for square grid, <code>2.0</code> for wider layouts,
<code>0.5</code> for taller layouts, <code>Inf</code> for single row, or <code>0.0</code> for single column.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to the specific layout function.
For bipartite layouts, use <code>partition</code> (logical vector) and <code>orientation</code>
(<code>"columns"</code> or <code>"rows"</code>).
For tiered layouts, use <code>tiers</code> (list, named vector, or data.frame) and
<code>orientation</code> (<code>"rows"</code> or <code>"columns"</code>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>data.frame</code> with columns <code>name</code>, <code>x</code>, and <code>y</code> containing node
names and their coordinates.</p>
    </div>
    <div class="section level2">
    <h2 id="layout-algorithms">Layout Algorithms<a class="anchor" aria-label="anchor" href="#layout-algorithms"></a></h2>



<p><strong>Sugiyama (Hierarchical Layout)</strong></p>
<p>Optimized for directed acyclic graphs (DAGs). Places nodes in layers to
emphasize hierarchical structure and causal flow from top to bottom. Edges
are routed to minimize crossings. Best for visualizing clear cause-effect
relationships. Only works with directed edges.</p>
<p><strong>Fruchterman-Reingold (Spring-Electrical)</strong></p>
<p>Fast force-directed layout using a spring-electrical model. Treats edges as
springs and nodes as electrically charged particles. Produces organic,
symmetric layouts with uniform edge lengths. Good for general-purpose
visualization and works with all edge types. Results are deterministic.</p>
<p><strong>Kamada-Kawai (Stress Minimization)</strong></p>
<p>High-quality force-directed layout that minimizes "stress" by making
Euclidean distances proportional to graph-theoretic distances. Better
preserves the global structure and path lengths compared to
Fruchterman-Reingold. Ideal for publication-quality visualizations where
accurate distance representation matters. Works with all edge types and
produces deterministic results.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other plotting:
<code><a href="add-caugi_plot-caugi_plot.html">add-caugi_plot-caugi_plot</a></code>,
<code><a href="caugi_layout_bipartite.html">caugi_layout_bipartite()</a></code>,
<code><a href="caugi_layout_fruchterman_reingold.html">caugi_layout_fruchterman_reingold()</a></code>,
<code><a href="caugi_layout_kamada_kawai.html">caugi_layout_kamada_kawai()</a></code>,
<code><a href="caugi_layout_sugiyama.html">caugi_layout_sugiyama()</a></code>,
<code><a href="caugi_layout_tiered.html">caugi_layout_tiered()</a></code>,
<code><a href="caugi_plot.html">caugi_plot()</a></code>,
<code><a href="divide-caugi_plot-caugi_plot.html">divide-caugi_plot-caugi_plot</a></code>,
<code><a href="plot.html">plot()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">cg</span> <span class="op">&lt;-</span> <span class="fu"><a href="caugi.html">caugi</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">A</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">B</span> <span class="op">+</span> <span class="va">C</span>,</span></span>
<span class="r-in"><span>  <span class="va">B</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">D</span>,</span></span>
<span class="r-in"><span>  <span class="va">C</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">D</span>,</span></span>
<span class="r-in"><span>  class <span class="op">=</span> <span class="st">"DAG"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Default: auto-selects best layout</span></span></span>
<span class="r-in"><span><span class="va">layout</span> <span class="op">&lt;-</span> <span class="fu">caugi_layout</span><span class="op">(</span><span class="va">cg</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Auto-selects tiered when tiers provided</span></span></span>
<span class="r-in"><span><span class="va">cg_tiered</span> <span class="op">&lt;-</span> <span class="fu"><a href="caugi.html">caugi</a></span><span class="op">(</span><span class="va">X1</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">M1</span>, <span class="va">X2</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">M2</span>, <span class="va">M1</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span>, <span class="va">M2</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tiers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X1"</span>, <span class="st">"X2"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M1"</span>, <span class="st">"M2"</span><span class="op">)</span>, <span class="st">"Y"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">layout_auto</span> <span class="op">&lt;-</span> <span class="fu">caugi_layout</span><span class="op">(</span><span class="va">cg_tiered</span>, tiers <span class="op">=</span> <span class="va">tiers</span><span class="op">)</span> <span class="co"># Uses "tiered"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Explicitly use hierarchical layout</span></span></span>
<span class="r-in"><span><span class="va">layout_sug</span> <span class="op">&lt;-</span> <span class="fu">caugi_layout</span><span class="op">(</span><span class="va">cg</span>, method <span class="op">=</span> <span class="st">"sugiyama"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use force-directed for organic appearance</span></span></span>
<span class="r-in"><span><span class="va">layout_fr</span> <span class="op">&lt;-</span> <span class="fu">caugi_layout</span><span class="op">(</span><span class="va">cg</span>, method <span class="op">=</span> <span class="st">"fruchterman-reingold"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use stress minimization for publication quality</span></span></span>
<span class="r-in"><span><span class="va">layout_kk</span> <span class="op">&lt;-</span> <span class="fu">caugi_layout</span><span class="op">(</span><span class="va">cg</span>, method <span class="op">=</span> <span class="st">"kamada-kawai"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Bipartite layout with auto-detected partition</span></span></span>
<span class="r-in"><span><span class="va">cg_bp</span> <span class="op">&lt;-</span> <span class="fu"><a href="caugi.html">caugi</a></span><span class="op">(</span><span class="va">A</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">X</span>, <span class="va">A</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span>, <span class="va">B</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">X</span>, <span class="va">B</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">layout_bp_rows</span> <span class="op">&lt;-</span> <span class="fu">caugi_layout</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">cg_bp</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"bipartite"</span>,</span></span>
<span class="r-in"><span>  orientation <span class="op">=</span> <span class="st">"rows"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Explicit partition</span></span></span>
<span class="r-in"><span><span class="va">partition</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">layout_bp_cols</span> <span class="op">&lt;-</span> <span class="fu">caugi_layout</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">cg_bp</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"bipartite"</span>,</span></span>
<span class="r-in"><span>  partition <span class="op">=</span> <span class="va">partition</span>,</span></span>
<span class="r-in"><span>  orientation <span class="op">=</span> <span class="st">"columns"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Tiered layout with three tiers</span></span></span>
<span class="r-in"><span><span class="va">cg_tiered</span> <span class="op">&lt;-</span> <span class="fu"><a href="caugi.html">caugi</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">X1</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">M1</span> <span class="op">+</span> <span class="va">M2</span>,</span></span>
<span class="r-in"><span>  <span class="va">X2</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">M1</span> <span class="op">+</span> <span class="va">M2</span>,</span></span>
<span class="r-in"><span>  <span class="va">M1</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span>,</span></span>
<span class="r-in"><span>  <span class="va">M2</span> <span class="op"><a href="edge_operators.html">%--&gt;%</a></span> <span class="va">Y</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tiers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X1"</span>, <span class="st">"X2"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M1"</span>, <span class="st">"M2"</span><span class="op">)</span>, <span class="st">"Y"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">layout_tiered</span> <span class="op">&lt;-</span> <span class="fu">caugi_layout</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">cg_tiered</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"tiered"</span>,</span></span>
<span class="r-in"><span>  tiers <span class="op">=</span> <span class="va">tiers</span>,</span></span>
<span class="r-in"><span>  orientation <span class="op">=</span> <span class="st">"rows"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Frederik Fabricius-Bjerre, Johan Larsson, Michael Sachs, Bjarke Hautop Kristensen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

